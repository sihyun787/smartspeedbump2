<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Smart Speed Bump Simulator</title>
<style>
    body {
        margin: 0;
        padding: 0;
        background: #e9eef3;
        font-family: Arial, sans-serif;
    }

    header {
        text-align: center;
        padding: 25px;
        font-size: 28px;
        background: #2d2f38;
        color: white;
        font-weight: bold;
    }

    .ui {
        text-align: center;
        margin-top: 25px;
    }

    input {
        padding: 8px 14px;
        font-size: 18px;
        width: 180px;
        border-radius: 6px;
        border: 1px solid #aaa;
    }

    button {
        padding: 10px 18px;
        font-size: 18px;
        margin-left: 10px;
        background: #007bff;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
    }

    button:hover {
        background: #0065d4;
    }

    #road {
        width: 100%;
        height: 160px;
        background: #3e3e3e;
        position: relative;
        margin-top: 40px;
        overflow: hidden;
    }

    #car {
        width: 110px;
        height: 55px;
        position: absolute;
        top: 70px;
        left: 0px;
        background: #ff4d4d;
        border-radius: 10px;
        transition: transform 0.1s;
    }

    #speedBump {
        width: 120px;
        height: 12px;
        background: #ffc400;
        position: absolute;
        top: 90px;
        left: 55%;
        border-radius: 5px;
        transition: 0.4s;
    }

    #generator {
        width: 55px;
        height: 55px;
        border: 5px solid #222;
        border-radius: 50%;
        position: absolute;
        top: 45px;
        left: 80%;
        animation: spin 0s linear infinite;
    }

    @keyframes spin {
        100% { transform: rotate(360deg); }
    }

    #status {
        text-align: center;
        margin-top: 15px;
        font-size: 20px;
        font-weight: bold;
    }

</style>
</head>
<body>

<header>ğŸš— ìŠ¤ë§ˆíŠ¸ ê³¼ì†ë°©ì§€í„± ì‹œë®¬ë ˆì´í„°</header>

<div class="ui">
    <input id="speed" type="number" placeholder="ì†ë„ ì…ë ¥ (km/h)">
    <button onclick="start()">ğŸš€ ì¶œë°œ</button>
</div>

<div id="road">
    <div id="car"></div>
    <div id="speedBump"></div>
    <div id="generator"></div>
</div>

<p id="status"></p>

<script>
let car = document.getElementById("car");
let bump = document.getElementById("speedBump");
let gen = document.getElementById("generator");
let statusText = document.getElementById("status");

function start() {
    let speed = Number(document.getElementById("speed").value);
    if (!speed) {
        alert("ì†ë„ë¥¼ ì…ë ¥í•˜ì„¸ìš”!");
        return;
    }

    let x = 0;
    let pxPerFrame = speed / 2;

    // ì´ˆê¸°í™”
    car.style.top = "70px";
    gen.style.animationDuration = "0s";
    bump.style.height = "12px";
    statusText.innerHTML = "";

    let interval = setInterval(() => {
        x += pxPerFrame;
        car.style.left = x + "px";

        let screen = window.innerWidth;

        // ë°©ì§€í„± ìœ„ì¹˜
        let bumpStart = screen * 0.52;
        let bumpEnd = screen * 0.62;

        // ë°©ì§€í„± ë°˜ì‘
        if (x > bumpStart && x < bumpEnd) {
            if (speed >= 30) {
                bump.style.height = "38px"; // ë°©ì§€í„± ìƒìŠ¹

                // ì°¨ê°€ ë°©ì§€í„±ì„ "ì˜¬ë¼ê°€ëŠ”" íš¨ê³¼
                car.style.top = "45px";

                statusText.innerHTML = "âš  ê³¼ì†! ë°©ì§€í„± ìƒìŠ¹ + ë°œì „ê¸° ê°€ë™";
                gen.style.animationDuration = "0.25s";
            } else {
                bump.style.height = "12px";
                statusText.innerHTML = "âœ” ì•ˆì „ ì†ë„";
            }
        }

        // ë°©ì§€í„± ë‚´ë ¤ê°€ë©° ì°¨ë„ ë‚´ë ¤ì˜´
        if (x > bumpEnd) {
            car.style.top = "70px";  // ì›ë˜ ë†’ì´
        }

        // ë°œì „ê¸° ë” ë¹ ë¥´ê²Œ
        if (x > screen * 0.75 && speed >= 30) {
            gen.style.animationDuration = "0.1s";
        }

        // ì¢…ë£Œ
        if (x > screen) {
            clearInterval(interval);
            statusText.innerHTML = "ğŸš˜ ì°¨ëŸ‰ í†µê³¼ ì™„ë£Œ";
            gen.style.animationDuration = "0s";
        }

    }, 20);
}
</script>

</body>
</html>
